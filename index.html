<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Foundations of Cloud Computing - 1 </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #E1F3FF; /* Lightest Blue Background */
        }
        /* Chart container styling for responsiveness */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 450px;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }
        .flow-line::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: #A4CFE3;
            transform: translateX(-50%);
            z-index: 0;
        }
        /* Style for the active tab button */
        .active-tab {
            box-shadow: 0 4px 6px -1px rgba(0, 63, 92, 0.3), 0 2px 4px -1px rgba(0, 63, 92, 0.15);
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-[#003F5C] mb-2">Foundations of Health Informatics Infrastructure</h1>
            <p class="text-lg text-[#366E8A]">From Booting Basics to Cloud Computing</p>
        </header>

        <div class="bg-white rounded-xl shadow-2xl overflow-hidden">
            
            <!-- Tab Navigation Bar -->
            <div id="tab-buttons" class="flex flex-wrap border-b border-[#A4CFE3] p-2 bg-[#F6FCFF]">
                <button data-tab="basics" class="tab-button flex-1 px-4 py-2 text-sm font-semibold rounded-lg m-1 transition-all duration-300 text-white bg-[#003F5C] hover:bg-[#366E8A] active-tab">
                    1. System Fundamentals
                </button>
                <button data-tab="hardware" class="tab-button flex-1 px-4 py-2 text-sm font-semibold rounded-lg m-1 transition-all duration-300 text-[#003F5C] hover:bg-[#A4CFE3]">
                    2. H/W & S/W Overview
                </button>
                <button data-tab="booting" class="tab-button flex-1 px-4 py-2 text-sm font-semibold rounded-lg m-1 transition-all duration-300 text-[#003F5C] hover:bg-[#A4CFE3]">
                    3. The Booting Process
                </button>
                <button data-tab="osrole" class="tab-button flex-1 px-4 py-2 text-sm font-semibold rounded-lg m-1 transition-all duration-300 text-[#003F5C] hover:bg-[#A4CFE3]">
                    4. OS: The Conductor
                </button>
                <button data-tab="ostypes" class="tab-button flex-1 px-4 py-2 text-sm font-semibold rounded-lg m-1 transition-all duration-300 text-[#003F5C] hover:bg-[#A4CFE3]">
                    5. OS Types Explained
                </button>
                <button data-tab="cloud" class="tab-button flex-1 px-4 py-2 text-sm font-semibold rounded-lg m-1 transition-all duration-300 text-[#003F5C] hover:bg-[#A4CFE3]">
                    6. Cloud & Linux Role
                </button>
            </div>

            <!-- Tab Content -->
            <div id="tab-content" class="p-6 md:p-8">

                <!-- 1. System Fundamentals -->
                <div id="basics" class="tab-panel">
                    <h2 class="text-3xl font-bold text-[#003F5C] mb-4 text-center">Computation & Health Data Management</h2>
                    <p class="text-center text-[#366E8A] max-w-3xl mx-auto mb-8">A <strong>computer</strong> is the fundamental electronic machine that drives modern <strong>Health Informatics</strong>. It is responsible for managing, analyzing, and applying crucial health data, such as Electronic Health Records (EHRs) and population statistics, to enhance patient care and public health.</p>
                    <div class="flex flex-col md:flex-row justify-center items-center gap-4 text-center">
                        <div class="p-4 bg-[#E1F3FF] rounded-lg w-40">
                            <p class="text-2xl font-bold text-[#003F5C]">Input</p>
                            <p class="text-sm text-[#366E8A]">Data Entry</p>
                        </div>
                        <div class="text-4xl font-bold text-[#A4CFE3]">&rarr;</div>
                        <div class="p-4 bg-[#A4CFE3] rounded-lg w-40">
                            <p class="text-2xl font-bold text-[#003F5C]">Process</p>
                            <p class="text-sm text-[#366E8A]">Instructions</p>
                        </div>
                        <div class="text-4xl font-bold text-[#6B9DB7]">&rarr;</div>
                        <div class="p-4 bg-[#6B9DB7] rounded-lg w-40">
                            <p class="text-2xl font-bold text-white">Output</p>
                            <p class="text-sm text-[#E1F3FF]">Results</p>
                        </div>
                        <div class="text-4xl font-bold text-[#366E8A]">&rarr;</div>
                        <div class="p-4 bg-[#366E8A] rounded-lg w-40">
                            <p class="text-2xl font-bold text-white">Store</p>
                            <p class="text-sm text-[#E1F3FF]">Future Use</p>
                        </div>
                    </div>
                </div>

                <!-- 2. H/W & S/W Overview -->
                <div id="hardware" class="tab-panel hidden">
                    <h2 class="text-3xl font-bold text-[#003F5C] mb-8 text-center">Hardware & Software: The Two Sides of Computing</h2>
                    <p class="text-center text-[#366E8A] mb-8">A computer system is a partnership between two inseparable parts: the physical hardware you can touch, and the intangible software that tells the hardware what to do. Both are essential for any Health Informatics solution to function.</p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="space-y-6">
                            <div class="bg-[#F6FCFF] rounded-lg shadow-md p-6 border-t-4 border-[#003F5C]">
                                <h3 class="text-2xl font-semibold text-[#003F5C] mb-3">Hardware <span class="text-lg">üî©</span></h3>
                                <p class="text-[#366E8A] mb-4">The physical, tangible components of a computer system.</p>
                                <ul class="list-disc list-inside text-[#366E8A] space-y-1">
                                    <li><strong>Input Devices:</strong> Keyboard, Mouse, Scanner</li>
                                    <li><strong>Processing Unit:</strong> CPU (Central Processing Unit)</li>
                                    <li><strong>Storage:</strong> RAM, SSD/Hard Drive</li>
                                    <li><strong>Output Devices:</strong> Monitor, Printer</li>
                                </ul>
                            </div>
                            <div class="bg-[#F6FCFF] rounded-lg shadow-md p-6 border-t-4 border-[#6B9DB7]">
                                <h3 class="text-2xl font-semibold text-[#003F5C] mb-3">Software <span class="text-lg">üíø</span></h3>
                                <p class="text-[#366E8A] mb-4">The set of instructions that tell the hardware what to do.</p>
                                <ul class="list-disc list-inside text-[#366E8A] space-y-1">
                                    <li><strong>System Software:</strong> Operating System (OS), Drivers</li>
                                    <li><strong>Application Software:</strong> EHR System, Web Browser</li>
                                </ul>
                            </div>
                        </div>
                        <div class="chart-container h-64 md:h-80">
                            <canvas id="hardwareSoftwareChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- 3. The Booting Process -->
                <div id="booting" class="tab-panel hidden">
                    <h2 class="text-3xl font-bold text-[#003F5C] mb-4 text-center">The Wake-Up Call: The 4 Key Booting Stages</h2>
                    <p class="text-center text-[#366E8A] max-w-3xl mx-auto mb-10">Booting is the startup sequence where control transfers from basic firmware to the complete Operating System. This four-stage sequence ensures hardware readiness and software loading.</p>
                    <div class="relative flow-line py-4 max-w-2xl mx-auto">
                        
                        <div class="flow-item mb-10 flex items-center w-full">
                            <div class="w-1/2 flex justify-end">
                                <div class="bg-[#003F5C] text-white p-3 rounded-lg shadow-md max-w-xs text-right">
                                    <h3 class="font-bold">1. Power & Firmware Initialization</h3>
                                    <p class="text-sm">The CPU resets and begins executing the basic instructions contained within the <strong>BIOS/UEFI</strong> firmware on the motherboard.</p>
                                </div>
                            </div>
                            <div class="w-10 h-10 bg-[#003F5C] rounded-full mx-4 flex items-center justify-center text-white font-bold text-lg relative z-10">1</div>
                            <div class="w-1/2"></div>
                        </div>

                        <div class="flow-item mb-10 flex items-center w-full">
                            <div class="w-1/2"></div>
                            <div class="w-10 h-10 bg-[#366E8A] rounded-full mx-4 flex items-center justify-center text-white font-bold text-lg relative z-10">2</div>
                            <div class="w-1/2 flex justify-start">
                                <div class="bg-[#366E8A] text-white p-3 rounded-lg shadow-md max-w-xs text-left">
                                    <h3 class="font-bold">2. POST (Power-On Self-Test)</h3>
                                    <p class="text-sm">The firmware runs a diagnostic check to confirm that essential hardware (CPU, RAM, video card) is present and functioning correctly.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flow-item mb-10 flex items-center w-full">
                            <div class="w-1/2 flex justify-end">
                                <div class="bg-[#6B9DB7] text-white p-3 rounded-lg shadow-md max-w-xs text-right">
                                    <h3 class="font-bold">3. Find & Run Bootloader</h3>
                                    <p class="text-sm">The firmware locates the small <strong>Bootloader</strong> program on the primary storage device (SSD/HDD) and transfers control to it for the next phase.</p>
                                </div>
                            </div>
                            <div class="w-10 h-10 bg-[#6B9DB7] rounded-full mx-4 flex items-center justify-center text-white font-bold text-lg relative z-10">3</div>
                            <div class="w-1/2"></div>
                        </div>
                        
                        <div class="flow-item flex items-center w-full">
                            <div class="w-1/2"></div>
                            <div class="w-10 h-10 bg-[#A4CFE3] rounded-full mx-4 flex items-center justify-center text-[#003F5C] font-bold text-lg relative z-10">4</div>
                            <div class="w-1/2 flex justify-start">
                                <div class="bg-[#A4CFE3] text-[#003F5C] p-3 rounded-lg shadow-md max-w-xs text-left">
                                    <h3 class="font-bold">4. OS Kernel Load & Control</h3>
                                    <p class="text-sm">The Bootloader loads the main part of the Operating System (<strong>Kernel</strong>) into RAM, and the OS initializes drivers and prepares the user interface.</p>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>

                <!-- 4. OS: The Conductor -->
                <div id="osrole" class="tab-panel hidden">
                    <h2 class="text-3xl font-bold text-[#003F5C] mb-4 text-center">The Conductor: The Operating System (OS)</h2>
                    <p class="text-center text-[#366E8A] max-w-3xl mx-auto mb-8">The <strong>Operating System (OS)</strong> is the most crucial software, acting as a master manager and translator. It orchestrates the complex dance between your applications and the computer's hardware, ensuring everything runs smoothly through several key functions.</p>
                    <div class="chart-container">
                        <canvas id="osRoleChart"></canvas>
                    </div>
                </div>

                <!-- 5. OS Types Explained -->
                <div id="ostypes" class="tab-panel hidden">
                    <h2 class="text-3xl font-bold text-[#003F5C] mb-4 text-center">Categorizing Operating System Types by Function</h2>
                    <p class="text-center text-[#366E8A] max-w-4xl mx-auto mb-8">Operating systems are purpose-built and typically categorized based on their role‚Äîwhether they serve a single user, a mobile device, or thousands of concurrent network connections.</p>
                    
                    <div class="grid grid-cols-1 gap-8">

                        <!-- 1. Client/Desktop Operating Systems -->
                        <div class="p-6 bg-[#F6FCFF] rounded-xl shadow-lg border-l-4 border-[#003F5C]">
                            <h3 class="text-2xl font-bold text-[#003F5C] mb-4">1. Client / Desktop Systems üñ•Ô∏è</h3>
                            <p class="text-sm text-[#366E8A] mb-4">These systems are optimized for <strong>single-user interaction</strong>, providing robust graphical interfaces (GUIs) and wide application compatibility for staff and clinicians.</p>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <!-- Windows -->
                                <div class="p-4 bg-white rounded-lg shadow-md border-t-2 border-[#6B9DB7]">
                                    <p class="font-semibold text-[#366E8A]">Windows (e.g., Windows 11)</p>
                                    <ul class="list-disc list-inside text-xs text-gray-600 mt-1 space-y-0.5">
                                        <li><strong>Role:</strong> Hospital administrative computers, running commercial healthcare software.</li>
                                        <li><strong>Key Feature:</strong> Broad compatibility and user-friendly GUI.</li>
                                    </ul>
                                </div>
                                <!-- macOS -->
                                <div class="p-4 bg-white rounded-lg shadow-md border-t-2 border-[#6B9DB7]">
                                    <p class="font-semibold text-[#366E8A]">macOS (e.g., Sonoma)</p>
                                    <ul class="list-disc list-inside text-xs text-gray-600 mt-1 space-y-0.5">
                                        <li><strong>Role:</strong> Clinical research environments, high-resolution medical imaging (Radiology).</li>
                                        <li><strong>Key Feature:</strong> Stability, specialized graphic handling, and strong media focus.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- 2. Mobile/Embedded Operating Systems -->
                        <div class="p-6 bg-[#F6FCFF] rounded-xl shadow-lg border-l-4 border-[#366E8A]">
                            <h3 class="text-2xl font-bold text-[#366E8A] mb-4">2. Mobile / Embedded Systems üì±</h3>
                            <p class="text-sm text-[#366E8A] mb-4">Designed for <strong>portability, touch interaction, and low power consumption</strong>. They facilitate point-of-care access and integration with specialized medical hardware.</p>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <!-- Android -->
                                <div class="p-4 bg-white rounded-lg shadow-md border-t-2 border-[#A4CFE3]">
                                    <p class="font-semibold text-[#6B9DB7]">Android</p>
                                    <ul class="list-disc list-inside text-xs text-gray-600 mt-1 space-y-0.5">
                                        <li><strong>Role:</strong> Mobile medical devices, patient check-in kiosks, documentation tablets.</li>
                                        <li><strong>Key Feature:</strong> Open-source foundation, flexibility, wide hardware support.</li>
                                    </ul>
                                </div>
                                <!-- iOS/iPadOS -->
                                <div class="p-4 bg-white rounded-lg shadow-md border-t-2 border-[#A4CFE3]">
                                    <p class="font-semibold text-[#6B9DB7]">iOS/iPadOS</p>
                                    <ul class="list-disc list-inside text-xs text-gray-600 mt-1 space-y-0.5">
                                        <li><strong>Role:</strong> Clinician quick-reference apps, secure messaging, hospital-provided mobile documentation.</li>
                                        <li><strong>Key Feature:</strong> Robust security, tight hardware-software integration.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 3. Server/High-Performance Operating Systems -->
                        <div class="p-6 bg-[#F6FCFF] rounded-xl shadow-lg border-l-4 border-[#6B9DB7]">
                            <h3 class="text-2xl font-bold text-[#6B9DB7] mb-4">3. Server / High-Performance Systems ‚öôÔ∏è</h3>
                            <p class="text-sm text-[#366E8A] mb-4">These systems are optimized for <strong>multi-user access, high throughput, and maximum uptime</strong>, forming the backbone of all centralized Health IT infrastructure.</p>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <!-- Linux (Server Focus) -->
                                <div class="p-4 bg-white rounded-lg shadow-md border-t-2 border-[#003F5C]">
                                    <p class="font-semibold text-[#003F5C]">Linux (Ubuntu, Red Hat)</p>
                                    <ul class="list-disc list-inside text-xs text-gray-600 mt-1 space-y-0.5">
                                        <li><strong>Role:</strong> Hosting <strong>EHR databases</strong>, PACS (Picture Archiving Systems), and advanced data analytics clusters.</li>
                                        <li><strong>Key Feature:</strong> Extreme stability, security, cost-effectiveness, and control (CLI).</li>
                                    </ul>
                                </div>
                                <!-- Server OS (General) -->
                                <div class="p-4 bg-white rounded-lg shadow-md border-t-2 border-[#003F5C]">
                                    <p class="font-semibold text-[#003F5C]">Server OS (Windows Server)</p>
                                    <ul class="list-disc list-inside text-xs text-gray-600 mt-1 space-y-0.5">
                                        <li><strong>Role:</strong> Managing network resources, user authentication (Active Directory), and specialized enterprise services.</li>
                                        <li><strong>Key Feature:</strong> Designed for high capacity, network management, and concurrent services.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- 6. Cloud & Linux Role -->
                <div id="cloud" class="tab-panel hidden">
                    <h2 class="text-3xl font-bold text-[#003F5C] mb-4 text-center">Cloud Computing: The Platform for Healthcare Data</h2>
                    <p class="text-center text-[#366E8A] max-w-4xl mx-auto mb-10">Cloud computing is vital for healthcare, offering scalable infrastructure for massive Electronic Health Records (EHR) systems, advanced research analytics, and reliable disaster recovery, all while enabling secure data sharing across distributed clinical environments. This shift allows providers to focus on care, not server maintenance.</p>

                    <div class="flex flex-col md:flex-row justify-center items-stretch gap-6 mb-10 text-center">
                        <div class="flex-1 p-4 bg-[#6B9DB7] rounded-lg shadow-md text-white">
                            <h3 class="text-2xl font-bold mb-1"><strong>Scalability</strong></h3>
                            <p class="text-sm">Handles explosive growth of patient data (e.g., medical images) without upfront hardware costs.</p>
                        </div>
                        <div class="flex-1 p-4 bg-[#366E8A] rounded-lg shadow-md text-white">
                            <h3 class="text-2xl font-bold mb-1"><strong>Accessibility</strong></h3>
                            <p class="text-sm">Clinicians can securely access data (EHRs) from any location, improving point-of-care decisions.</p>
                        </div>
                        <div class="flex-1 p-4 bg-[#003F5C] rounded-lg shadow-md text-white">
                            <h3 class="text-2xl font-bold mb-1"><strong>Security & DR</strong></h3>
                            <p class="text-sm">Centralized security measures and robust disaster recovery (DR) protocols are easier to maintain.</p>
                        </div>
                    </div>

                    <h3 class="text-2xl font-semibold text-[#003F5C] mb-4 text-center">Linux: The Ultimate Server OS for the Cloud</h3>
                    <p class="text-center text-[#366E8A] max-w-4xl mx-auto mb-6">Linux is the <strong>de facto standard (dominant OS)</strong> for cloud and server infrastructure. Its open-source nature, <strong>minimal overhead, and unparalleled security</strong> make it the perfect match for the high-uptime and demanding performance requirements of <strong>Server/High-Performance</strong> systems in healthcare.</p>
                    
                    <div class="max-w-4xl mx-auto p-6 bg-[#001D29] rounded-lg shadow-xl">
                        <p class="text-[#E1F3FF] font-mono text-sm mb-4 border-b border-[#366E8A] pb-2">Example: Using the Command Line Interface (CLI) for Server Health & Auditing</p>
                        <div class="bg-black/50 p-3 rounded text-white font-mono text-left text-sm whitespace-pre-wrap">
                            <span class="text-[#A4CFE3]">admin@ehr-db:~$</span> <span class="text-[#E1F3FF]">tail -n 10 /var/log/ehr-access.log</span>
                            <br><span class="text-yellow-300"># Command used to review the last 10 lines of the audit log (security monitoring)</span>
                            <br><span class="text-[#E1F3FF]">Oct 5 10:30:01 User: B123 accessed: Patient_ID_456</span>
                            <br><span class="text-[#E1F3FF]">Oct 5 10:31:15 User: C789 read: Medical_Image_99</span>
                            <br><span class="text-[#A4CFE3]">admin@ehr-db:~$</span> <span class="text-[#E1F3FF]">systemctl status postgresql.service</span>
                            <br><span class="text-green-300">‚óè postgresql.service - PostgreSQL database server</span>
                            <br><span class="text-green-300">   Loaded: loaded (/lib/systemd/system/postgresql.service; enabled)</span>
                            <br><span class="text-green-300">   Active: active (running) since Thu 2024-09-01 00:00:00 UTC; 1 month ago</span>
                            <br><span class="text-yellow-300"># Command confirming the primary EHR database service is running without interruption</span>
                        </div>
                        <p class="text-[#A4CFE3] text-xs mt-3">The Command Line Interface provides system administrators with <strong>precise, scriptable control</strong>, essential for automating complex maintenance and responding rapidly to high-priority security or performance issues in a cloud environment.</p>
                    </div>
                </div>

            </div>
        </div>

        <footer class="text-center mt-12 text-[#366E8A]">
            <p>&copy; 2025 Introduction to Computation. All data is representational.</p>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            // --- Chart.js Configuration Functions ---

            const tooltipTitleCallback = {
                plugins: {
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                if (Array.isArray(label)) {
                                  return label.join(' ');
                                } else {
                                  return label;
                                }
                            }
                        }
                    }
                }
            };
            
            // --- Tab Switching Logic ---

            const tabButtons = document.querySelectorAll('.tab-button');
            const tabPanels = document.querySelectorAll('.tab-panel');
            let chartsInitialized = false;

            function initCharts() {
                if (chartsInitialized) return;

                // Hardware/Software Doughnut Chart
                new Chart(document.getElementById('hardwareSoftwareChart'), {
                    type: 'doughnut',
                    data: {
                        labels: ['Hardware (Physical Parts)', 'Software (Instructions)'],
                        datasets: [{
                            label: 'Computer System Components',
                            data: [50, 50],
                            backgroundColor: ['#003F5C', '#6B9DB7'],
                            borderColor: '#FFFFFF',
                            borderWidth: 4,
                            hoverOffset: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: tooltipTitleCallback.plugins,
                        cutout: '60%',
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    font: { size: 14 }
                                }
                            }
                        }
                    }
                });

                // OS Role Radar Chart
                new Chart(document.getElementById('osRoleChart'), {
                    type: 'radar',
                    data: {
                        labels: ['Resource Management', 'Hardware Abstraction', 'Process Management', 'File Management', 'User Interface'],
                        datasets: [{
                            label: 'Core OS Functions',
                            data: [90, 85, 95, 80, 88],
                            fill: true,
                            backgroundColor: 'rgba(54, 110, 138, 0.4)',
                            borderColor: '#003F5C',
                            pointBackgroundColor: '#003F5C',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: '#003F5C'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: tooltipTitleCallback.plugins,
                        scales: {
                            r: {
                                angleLines: { color: '#A4CFE3' },
                                grid: { color: '#A4CFE3' },
                                pointLabels: { font: { size: 12 }, color: '#003F5C' },
                                ticks: {
                                    backdropColor: 'rgba(255, 255, 255, 0.75)',
                                    color: '#366E8A',
                                    display: false
                                }
                            }
                        },
                        elements: {
                            line: {
                                borderWidth: 3
                            }
                        }
                    }
                });
                chartsInitialized = true;
            }

            function switchTab(tabId) {
                // Deactivate all buttons
                tabButtons.forEach(button => {
                    button.classList.remove('active-tab', 'bg-[#003F5C]', 'text-white');
                    button.classList.add('text-[#003F5C]', 'bg-transparent');
                });

                // Hide all panels
                tabPanels.forEach(panel => {
                    panel.classList.add('hidden');
                });

                // Activate the selected button
                const activeButton = document.querySelector(`.tab-button[data-tab="${tabId}"]`);
                if (activeButton) {
                    activeButton.classList.add('active-tab', 'bg-[#003F5C]', 'text-white');
                    activeButton.classList.remove('text-[#003F5C]', 'bg-transparent');
                }

                // Show the selected panel
                const activePanel = document.getElementById(tabId);
                if (activePanel) {
                    activePanel.classList.remove('hidden');
                }

                // Initialize charts only once, regardless of which tab is active
                initCharts();
            }

            // Add event listeners to buttons
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const tabId = button.getAttribute('data-tab');
                    switchTab(tabId);
                });
            });

            // Initial load: show the first tab and initialize charts
            const initialTabId = tabButtons[0].getAttribute('data-tab');
            switchTab(initialTabId);
        });
    </script>
</body>
</html>
